import{g as Y,M as K,a5 as Z,a6 as ee,q as te,P as k,J as X,r as E,Q as ne,O as $,i as O,j as C,L as G}from"./C_aKvr1J.js";function H(e){return Z()?(ee(e),!0):!1}function b(e){return typeof e=="function"?e():te(e)}const oe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const re=Object.prototype.toString,se=e=>re.call(e)==="[object Object]",_=()=>{};function q(e,t){function n(...o){return new Promise((s,l)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(s).catch(l)})}return n}function le(e,t={}){let n,o,s=_;const l=u=>{clearTimeout(u),s(),s=_};return u=>{const v=b(e),c=b(t.maxWait);return n&&l(n),v<=0||c!==void 0&&c<=0?(o&&(l(o),o=null),Promise.resolve(u())):new Promise((f,r)=>{s=t.rejectOnCancel?r:f,c&&!o&&(o=setTimeout(()=>{n&&l(n),o=null,f(u())},c)),n=setTimeout(()=>{o&&l(o),o=null,f(u())},v)})}}function ie(...e){let t=0,n,o=!0,s=_,l,i,u,v,c;!X(e[0])&&typeof e[0]=="object"?{delay:i,trailing:u=!0,leading:v=!0,rejectOnCancel:c=!1}=e[0]:[i,u=!0,v=!0,c=!1]=e;const f=()=>{n&&(clearTimeout(n),n=void 0,s(),s=_)};return d=>{const h=b(i),m=Date.now()-t,p=()=>l=d();return f(),h<=0?(t=Date.now(),p()):(m>h&&(v||!o)?(t=Date.now(),p()):u&&(l=new Promise((L,g)=>{s=c?g:L,n=setTimeout(()=>{t=Date.now(),o=!0,L(p()),f()},Math.max(0,h-m))})),!v&&!n&&(n=setTimeout(()=>o=!0,h)),o=!1,l)}}function ue(e){return k()}function ce(e,t=200,n={}){return q(le(t,n),e)}function ae(e,t=200,n=!1,o=!0,s=!1){return q(ie(t,n,o,s),e)}function F(e,t=!0,n){ue()?Y(e,n):t?e():K(e)}function me(e,t,n){let o;X(n)?o={evaluating:n}:o={};const{lazy:s=!1,evaluating:l=void 0,shallow:i=!0,onError:u=_}=o,v=E(!s),c=i?ne(t):E(t);let f=0;return $(async r=>{if(!v.value)return;f++;const d=f;let h=!1;l&&Promise.resolve().then(()=>{l.value=!0});try{const m=await e(p=>{r(()=>{l&&(l.value=!1),h||p()})});d===f&&(c.value=m)}catch(m){u(m)}finally{l&&d===f&&(l.value=!1),h=!0}}),s?O(()=>(v.value=!0,c.value)):c}function x(e){var t;const n=b(e);return(t=n==null?void 0:n.$el)!=null?t:n}const W=oe?window:void 0;function j(...e){let t,n,o,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,s]=e,t=W):[t,n,o,s]=e,!t)return _;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const l=[],i=()=>{l.forEach(f=>f()),l.length=0},u=(f,r,d,h)=>(f.addEventListener(r,d,h),()=>f.removeEventListener(r,d,h)),v=C(()=>[x(t),b(s)],([f,r])=>{if(i(),!f)return;const d=se(r)?{...r}:r;l.push(...n.flatMap(h=>o.map(m=>u(f,h,m,d))))},{immediate:!0,flush:"post"}),c=()=>{v(),i()};return H(c),c}function fe(){const e=E(!1),t=k();return t&&Y(()=>{e.value=!0},t),e}function J(e){const t=fe();return O(()=>(t.value,!!e()))}function de(e,t={}){const{window:n=W}=t,o=J(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const l=E(!1),i=c=>{l.value=c.matches},u=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",i):s.removeListener(i))},v=$(()=>{o.value&&(u(),s=n.matchMedia(b(e)),"addEventListener"in s?s.addEventListener("change",i):s.addListener(i),l.value=s.matches)});return H(()=>{v(),u(),s=void 0}),l}function ve(e,t,n={}){const{window:o=W,...s}=n;let l;const i=J(()=>o&&"ResizeObserver"in o),u=()=>{l&&(l.disconnect(),l=void 0)},v=O(()=>Array.isArray(e)?e.map(r=>x(r)):[x(e)]),c=C(v,r=>{if(u(),i.value&&o){l=new ResizeObserver(t);for(const d of r)d&&l.observe(d,s)}},{immediate:!0,flush:"post"}),f=()=>{u(),c()};return H(f),{isSupported:i,stop:f}}function pe(e,t={width:0,height:0},n={}){const{window:o=W,box:s="content-box"}=n,l=O(()=>{var r,d;return(d=(r=x(e))==null?void 0:r.namespaceURI)==null?void 0:d.includes("svg")}),i=E(t.width),u=E(t.height),{stop:v}=ve(e,([r])=>{const d=s==="border-box"?r.borderBoxSize:s==="content-box"?r.contentBoxSize:r.devicePixelContentBoxSize;if(o&&l.value){const h=x(e);if(h){const m=h.getBoundingClientRect();i.value=m.width,u.value=m.height}}else if(d){const h=Array.isArray(d)?d:[d];i.value=h.reduce((m,{inlineSize:p})=>m+p,0),u.value=h.reduce((m,{blockSize:p})=>m+p,0)}else i.value=r.contentRect.width,u.value=r.contentRect.height},n);F(()=>{const r=x(e);r&&(i.value="offsetWidth"in r?r.offsetWidth:t.width,u.value="offsetHeight"in r?r.offsetHeight:t.height)});const c=C(()=>x(e),r=>{i.value=r?t.width:0,u.value=r?t.height:0});function f(){v(),c()}return{width:i,height:u,stop:f}}const Q=1;function we(e,t={}){const{throttle:n=0,idle:o=200,onStop:s=_,onScroll:l=_,offset:i={left:0,right:0,top:0,bottom:0},eventListenerOptions:u={capture:!1,passive:!0},behavior:v="auto",window:c=W,onError:f=a=>{console.error(a)}}=t,r=E(0),d=E(0),h=O({get(){return r.value},set(a){p(a,void 0)}}),m=O({get(){return d.value},set(a){p(void 0,a)}});function p(a,A){var w,I,D,T;if(!c)return;const y=b(e);if(!y)return;(D=y instanceof Document?c.document.body:y)==null||D.scrollTo({top:(w=b(A))!=null?w:m.value,left:(I=b(a))!=null?I:h.value,behavior:b(v)});const R=((T=y==null?void 0:y.document)==null?void 0:T.documentElement)||(y==null?void 0:y.documentElement)||y;h!=null&&(r.value=R.scrollLeft),m!=null&&(d.value=R.scrollTop)}const L=E(!1),g=G({left:!0,right:!1,top:!0,bottom:!1}),S=G({left:!1,right:!1,top:!1,bottom:!1}),z=a=>{L.value&&(L.value=!1,S.left=!1,S.right=!1,S.top=!1,S.bottom=!1,s(a))},U=ce(z,n+o),P=a=>{var A;if(!c)return;const w=((A=a==null?void 0:a.document)==null?void 0:A.documentElement)||(a==null?void 0:a.documentElement)||x(a),{display:I,flexDirection:D}=getComputedStyle(w),T=w.scrollLeft;S.left=T<r.value,S.right=T>r.value;const y=Math.abs(T)<=(i.left||0),R=Math.abs(T)+w.clientWidth>=w.scrollWidth-(i.right||0)-Q;I==="flex"&&D==="row-reverse"?(g.left=R,g.right=y):(g.left=y,g.right=R),r.value=T;let M=w.scrollTop;a===c.document&&!M&&(M=c.document.body.scrollTop),S.top=M<d.value,S.bottom=M>d.value;const N=Math.abs(M)<=(i.top||0),V=Math.abs(M)+w.clientHeight>=w.scrollHeight-(i.bottom||0)-Q;I==="flex"&&D==="column-reverse"?(g.top=V,g.bottom=N):(g.top=N,g.bottom=V),d.value=M},B=a=>{var A;if(!c)return;const w=(A=a.target.documentElement)!=null?A:a.target;P(w),L.value=!0,U(a),l(a)};return j(e,"scroll",n?ae(B,n,!0,!1):B,u),F(()=>{try{const a=b(e);if(!a)return;P(a)}catch(a){f(a)}}),j(e,"scrollend",z,u),{x:h,y:m,isScrolling:L,arrivedState:g,directions:S,measure(){const a=b(e);c&&a&&P(a)}}}function be(e={}){const{window:t=W,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:l=!0}=e,i=E(n),u=E(o),v=()=>{t&&(l?(i.value=t.innerWidth,u.value=t.innerHeight):(i.value=t.document.documentElement.clientWidth,u.value=t.document.documentElement.clientHeight))};if(v(),F(v),j("resize",v,{passive:!0}),s){const c=de("(orientation: portrait)");C(c,()=>v())}return{width:i,height:u}}export{we as a,pe as b,me as c,ve as d,be as u};
